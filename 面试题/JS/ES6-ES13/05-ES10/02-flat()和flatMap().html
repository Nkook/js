<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // flat()
        // flat()方法用于创建并返回一个新数组，
        // 这个新数组包含与它调用flat()的数组相同的元素，只不过其中任何本身也是数组的元素会被打平填充到返回的数组中：
        [1, [2, 3]].flat()        // [1, 2, 3]
        [1, [2, [3, 4]]].flat()   // [1, 2, [3, 4]]

        // 不传参数时，flat()默认只会打平一级嵌套，如果想要打平更多的层级，就需要传给flat()一个数值参数，这个参数表示要打平的层级数：
        [1, [2, [3, 4]]].flat(2)  // [1, 2, 3, 4]

        // 如果数组中存在空项，会直接跳过：
        [1, [2, , 3]].flat()   //  [1, 2, 3]

        // 如果传入的参数小于等于0，就会返回原数组：
        [1, [2, [3, [4, 5]]]].flat(0);    //  [1, [2, [3, [4, 5]]]]
        [1, [2, [3, [4, 5]]]].flat(-10);  //  [1, [2, [3, [4, 5]]]]

        // flatMap()
        // flatMap()方法使用映射函数映射每个元素，然后将结果压缩成一个新数组。
        // 它与 map 和连着深度值为1的 flat 几乎相同，
        // 但 flatMap 通常在合并成一种方法的效率稍微高一些。
        // 该方法会返回一个新的数组，其中每个元素都是回调函数的结果，并且结构深度 depth 值为1。

        [1, 2, 3, 4].flatMap(x => x * 2);      //  [2, 4, 6, 8]
        [1, 2, 3, 4].flatMap(x => [x * 2]);    //  [2, 4, 6, 8]

        [1, 2, 3, 4].flatMap(x => [[x * 2]]);  //  [[2], [4], [6], [8]]
        [1, 2, 3, 4].map(x => [x * 2]);        //  [[2], [4], [6], [8]]

    </script>
</body>
</html>