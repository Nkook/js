<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // reduce() 方法对数组中的每个元素执行一个reducer函数(升序执行)，将其结果汇总为单个返回值。
    // reduce() 相当于一个累计器，将累计器逐个作用在数组元素上，把上一次输出的值作为下一次输入的值。
    // 它接收两个参数，第一个参数callback为回调函数（必选），第二个参数initialValue为初始值（可选）。
    // arr.reduce(callback,[initialValue])

    // reduce 为数组中的每一个元素依次执行回调函数，不包括数组中被删除或从未被赋值的元素，接受四个参数：初始值（或者上一次回调函数的返回值），当前元素值，当前索引，调用 reduce 的数组。
    //   (1) callback （执行数组中每个值的函数，包含四个参数）
    //       ● previousValue （上一次调用回调返回的值，或者是提供的初始值（initialValue））
    //       ● currentValue （数组中当前被处理的元素）
    //       ● index （当前元素在数组中的索引）
    //       ● array （调用 reduce 的数组）
    //   (2) initialValue （作为第一次调用 callback 的第一个参数。）

    let arr = [1, 2, 3, 4]
    let sum = arr.reduce((prev, cur, index, arr) => {
        console.log(prev, cur, index);
        return prev + cur;
    })
    console.log(arr, sum);  
    // 1 2 1
    // 3 3 2
    // 6 4 3
    // [1, 2, 3, 4] 10

    let arr1 = [1, 2, 3, 4]
    let sum1 = arr.reduce((prev, cur, index, arr) => {
        console.log(prev, cur, index);
        return prev + cur;
    }, 5)
    console.log(arr1, sum1);  
    // 5 1 0
    // 6 2 1
    // 8 3 2
    // 11 4 3
    // [1, 2, 3, 4] 15

    // 如果没有提供initialValue，reduce 会从索引1的地方开始执行 callback 方法，跳过第一个索引。
    // 如果提供initialValue，从索引0开始。
  </script>
</body>
</html>