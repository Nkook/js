<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        父组件通过:data绑定数据，子组件通过props: [] 接收数据
        子组件通过$emit发射事件，父组件通过@事件 （v-on）监听，并接收参数
     -->
     
    <!-- 父组件通过props向子组件传递数据，子组件通过$emit和父组件通信 -->
    <!-- 1. 父组件向子组件传值
        props只能是父组件向子组件进行传值，props使得父子组件之间形成了一个单向下行绑定。子组件的数据会随着父组件不断更新。
        props 可以显示定义一个或一个以上的数据，对于接收的数据，可以是各种数据类型，同样也可以传递一个函数。
        props属性名规则：若在props中使用驼峰形式，模板中需要使用短横线的形式 -->
        <!-- // 父组件
        <template>
            <div id="father">
                <son :msg="msgData" :fn="myFunction"></son>
            </div>
        </template>
        
        <script>
            import son from "./son.vue";
            export default {
                name: father,
                data() {
                    msgData: "父组件数据";
                },
                methods: {
                    myFunction() {
                        console.log("vue");
                    }
                },
                components: {
                    son
                }
            };
        </script>

        // 子组件
        <template>
            <div id="son">
                <p>{{msg}}</p>
                <button @click="fn">按钮</button>
            </div>
        </template>
        <script>
        export default {
            name: "son",
            props: ["msg", "fn"]
        };
        </script> -->

    <!-- 2. 子组件向父组件传值 -->
    <!-- $emit绑定一个自定义事件，当这个事件被执行的时就会将参数传递给父组件，而父组件通过v-on监听并接收参数 -->
    <!-- // 父组件
    <template>
    <div class="section">
        <com-article :articles="articleList" @onEmitIndex="onEmitIndex"></com-article>
        <p>{{currentIndex}}</p>
    </div>
    </template>

    <script>
        import comArticle from './test/article.vue'
        export default {
            name: 'comArticle',
            components: { comArticle },
            data() {
                return {
                currentIndex: -1,
                articleList: ['红楼梦', '西游记', '三国演义']
                }
            },
            methods: {
                onEmitIndex(idx) {
                this.currentIndex = idx
                }
            }
        }
    </script>

    //子组件
    <template>
        <div>
            <div v-for="(item, index) in articles" :key="index" @click="emitIndex(index)">{{item}}</div>
        </div>
    </template>

    <script>
        export default {
            props: ['articles'],
            methods: {
                emitIndex(index) {
                this.$emit('onEmitIndex', index) // 触发父组件的方法，并传递参数index
                }
            }
        }
    </script> -->

</body>
</html>